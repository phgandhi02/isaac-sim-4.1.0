[package]
title = "Isaac Extension Test Run Environment"
version = "1.0.0"
keywords = ["app"]

[dependencies]
# Uncomment to enable python debugger
# "omni.kit.debug.python" = {}
# use the isaac sim loop runner for all tests
"omni.kit.loop-isaac" = {}

[settings]
app.name = "Isaac-Sim"
# Wait for native debugger to connect
# app.waitForDebugger = true
# isaac settings
omni.kit.plugin.syncUsdLoads = true
rtx.hydra.materialSyncLoads = true
rtx.hydra.enableSemanticSchema = true
rtx.materialDb.syncLoads = true
'rtx-transient'.resourcemanager.enableTextureStreaming = true
rtx.descriptorSets=360000
rtx.reservedDescriptors=900000
# rtx.sceneDb.maxInstances=1000000
rtx.newDenoiser.enabled = true
# omni.replicator.RTSubframes=1
persistent.app.stage.upAxis = "Z"
persistent.app.viewport.displayOptions = 31951
persistent.simulation.minFrameRate = 15
persistent.simulation.defaultMetersPerUnit = 1.0
# persistent.omnigraph.allowGlobalImplicitGraph=false
# app.content.emptyStageOnStart = true
app.file.ignoreUnsavedOnExit = true
app.settings.persistent = false
app.settings.fabricDefaultStageFrameHistoryCount = 3 # needed for omni.syntheticdata TODO105 Still true?
# app.hydraEngine.waitIdle = true
# app.hydra.aperture.conform = 4 # in 105.1 pixels are square by default
app.renderer.skipWhileMinimized = false
app.renderer.sleepMsOnFocus = 0
app.renderer.sleepMsOutOfFocus = 0
app.fastShutdown=1
app.viewport.createCameraModelRep=false # needed for replicator
renderer.multiGpu.enabled = true
renderer.multiGpu.autoEnable = true
app.gatherRenderResults = false
exts."omni.kit.pipapi".installCheckIgnoreVersion = true
exts."omni.kit.thumbnails.usd".thumbnail_on_save = false
exts."omni.kit.viewport.window".startup.windowName="Viewport" # Rename from viewport next
# settings from the base app
persistent.omnigraph.updateToUsd = false
persistent.omnigraph.useSchemaPrims = true
persistent.omnigraph.disablePrimNodes = true
persistent.physics.visualizationDisplayJoints = false
persistent.omni.replicator.captureOnPlay = true

# Explicitly enable Vulkan (on by default on Linux, off by default on Windows)
app.vulkan = true

### async rendering settings
omni.replicator.asyncRendering = false
app.asyncRendering = false
app.asyncRenderingLowLatency = false

### Render thread settings
app.runLoops.main.rateLimitEnabled = false
app.runLoops.main.rateLimitFrequency = 120
app.runLoops.main.rateLimitUsePrecisionSleep = true
app.runLoops.main.syncToPresent = false
app.runLoops.present.rateLimitFrequency = 120
app.runLoops.present.rateLimitUsePrecisionSleep = true
app.runLoops.rendering_0.rateLimitFrequency = 120
app.runLoops.rendering_0.rateLimitUsePrecisionSleep = true
app.runLoops.rendering_0.syncToPresent = false
app.runLoops.rendering_1.rateLimitFrequency = 120
app.runLoops.rendering_1.rateLimitUsePrecisionSleep = true
app.runLoops.rendering_1.syncToPresent = false
app.runLoopsGlobal.syncToPresent = false
app.vsync = false
exts.omni.kit.renderer.core.present.enabled = false
exts.omni.kit.renderer.core.present.presentAfterRendering = false
persistent.app.viewport.defaults.tickRate = 120
rtx-transient.dlssg.enabled = false
exts."omni.isaac.ros2_bridge".publish_without_verification = true

crashreporter.data.experience = "Isaac Sim"
# crashreporter.enabled = false
# crashreporter.alwaysUpload = false
crashreporter.skipOldDumpUpload = true
# crashreporter.url=""
# Register extension folder from this repo in kit
[settings.app.exts]
folders = ["${app}/../exts", "${app}/../extscache", "${app}/../extsPhysics", "${app}/../extsUser"]

[settings.exts."omni.kit.debug.python"]
# Host and port for listen to debugger for
# host = "127.0.0.1"
# port = 3000

# Block until client (debugger) connected
# waitForClient = true

# break immediately (also waits for client)
# break = true

[settings.exts."omni.kit.test"]
# Run only selected tests, wildcards supported
# runTestsFilter = "*test name here*"

# Default extension test timeout (can be overriden by extensions), in seconds:
testExtDefaultTimeout = 600

# This forces extensions to be local when testing
[settings.exts."omni.kit.registry.nucleus"]
registries = []
